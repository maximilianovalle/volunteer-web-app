<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>

    <link href="./logo.svg" rel="icon">

    <style>

        * {
            margin: 0px;
        }

        body {
            min-height: 100vh;

            background-color: #f39600; /* for browsers that do not support gradients */
            background-image: linear-gradient(to right, #ec660c , #f39600);

            font-family: Arial, Helvetica, sans-serif;
            /* color: white; */
        }

        #header {
            height: 5vh;    /* connected to #main height */
            min-height: 52px;

            background-color: white;

            display: flex;
            justify-content: space-around;
            align-items: center;

            box-shadow: #ec660c;
        }

        #header > button, #eventCurrent > button {
            height: 60%;
            width: 80px;

            background-color: #ec660c;
            color: white;

            border: 2px solid #ec660c;
            border-radius: 4px;
        }

        #header > button:hover, #eventCurrent > button:hover {
            background-color: white;
            color: #ec660c;

            cursor: pointer;
        }

        #main {
            min-height: 95vh;   /* connected to #header height */

            max-width: 1200px;  /* page side spacing */
            margin: 0px auto;

            margin-top: 4vh;
            margin-bottom: 4vh;
        }

        #pastEvents, #currentEvents {
            padding: 16px 16px;
            margin-bottom: 4vh;

            background-color: white;

            border-radius: 12px;
        }

        #eventPassed, #eventCurrent {
            width: 90%;
            
            margin: 0px auto;
            margin-top: 12px;

            display: flex;
            flex-direction: column;
        }

        #eventPassed > div, #eventCurrent > div {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        #eventPassed > div > div, #eventCurrent > div > div {
            display: flex;
            align-items: center;
        }

        #eventCurrent > button {
            align-self: center;
        }

        /* classes */

        .bottomBorder {
            padding-bottom: 4px;

            border-bottom: 2px solid #ec660c;
        }

    </style>

</head>

<!-- ----- -->

<body>

    <!-- header -->

    <div id="header">

        <h2>Volunteer Dashboard</h2>
        <button>Sign Out</button>

    </div>

    <!-- main -->

    <div id="main">

        <!-- past events -->

        <div id="pastEvents">

            <div class="bottomBorder" style="width: 100%;">
                <h2 style="color: #ec660c;">Your Past Events...</h2>
            </div>

            <ul id="pastEventList"></ul>

            <!-- past event instance -->

            <!-- <div id="eventPassed">

                <div>

                    <div>
                        <h3>Event Name</h3>
                        <p>,</p>
                        <p>TX</p>
                    </div>

                    <p>2025-04-20</p>

                </div>

                <p style="width: 90%; margin: 0px auto; padding: 8px 0px;">Event Description. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

            </div> -->

        </div>

        <!-- current events -->

        <div id="currentEvents">

            <div class="bottomBorder" style="width: 100%;">
                <h2 style="color: #ec660c;">Current Events</h2>
            </div>

            <ul id="currentEventList"></ul>

            <!-- current event instance -->

            <!-- <div id="eventCurrent">

                <div>

                    <div>
                        <h3>Event Name</h3>
                        <p>,</p>
                        <p>TX</p>
                    </div>

                    <p>2025-04-20</p>

                </div>

                <p>Event Type</p>

                <p style="width: 90%; margin: 0px auto; padding: 8px 0px;">Event Description. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

                <button>Apply</button> 

            </div> -->

        </div>

    </div>

    <!-- SCRIPT -->

    <script>

        // display past events function

        async function fetchPastEvents() {
            try {
                const response = await fetch("http://localhost:3000/api/volunteer/past");
                const pastEvents = await response.json();

                const pastEventsList = document.getElementById("pastEventsList");

                // for each past event, display

                pastEvents.forEach(event => {   // pastEvents.array.forEach
                    const li = document.createElement("li");
                    li.textContent = "{$event.Event_Name}";
                    pastEventsList.appendChild(li);
                });
            } catch (error) {
                console.error("Error fetching past events: ", error);
            }
        }

        // display current events function

        async function fetchCurrentEvents() {
            try {
                const response = await fetch("http://localhost:3000/api/volunteer/current");
                const currentEvents = await response.json();

                const currentEventsList = document.getElementById("currentEventsList");

                // for each current event, display

                currentEvents.forEach(event => {    // currentEvents.array.forEach
                    const li = document.createElement("li");
                    li.textContent = "{$event.Event_Name}";
                    currentEventsList.appendChild(li);
                });
            } catch (error) {
                console.error("Error fetching current events: ", error);
            }
        }

        // call functions when page loads

        fetchPastEvents();
        fetchCurrentEvents();

    </script>
    
</body>

</html>